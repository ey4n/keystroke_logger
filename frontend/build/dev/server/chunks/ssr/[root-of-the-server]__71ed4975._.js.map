{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/eyan/Desktop/keystroke_logger/frontend/src/components/TestSelector.tsx"],"sourcesContent":["import React from 'react';\nimport { TestType, TestConfig } from '../types/keystroke';\n\ninterface TestSelectorProps {\n  currentTest: TestType;\n  onTestChange: (test: TestType) => void;\n}\n\nconst AVAILABLE_TESTS: TestConfig[] = [\n  {\n    id: 'free',\n    name: 'Free Typing',\n    description: 'Type freely without constraints',\n    enabled: true,\n  },\n  {\n    id: 'timed',\n    name: 'Timed Test',\n    description: 'Complete typing within a time limit',\n    enabled: true,\n  },\n  {\n    id: 'multitasking',\n    name: 'Multitasking Test',\n    description: 'Type while performing other tasks',\n    enabled: true,\n  },\n  {\n    id: 'lying',\n    name: 'Lying Test',\n    description: 'Lie on some form fields',\n    enabled: true,\n  },\n];\n\nexport function TestSelector({ currentTest, onTestChange }: TestSelectorProps) {\n  return (\n    <div className=\"mb-6\">\n      <h2 className=\"text-lg font-semibold text-gray-800 mb-3\">Select Test Type</h2>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n        {AVAILABLE_TESTS.map((test) => (\n          <button\n            key={test.id}\n            onClick={() => test.enabled && onTestChange(test.id)}\n            disabled={!test.enabled}\n            className={`p-4 rounded-lg border-2 text-left transition-all ${\n              currentTest === test.id\n                ? 'border-indigo-500 bg-indigo-50'\n                : test.enabled\n                ? 'border-gray-200 bg-white hover:border-indigo-300 hover:bg-indigo-50'\n                : 'border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed'\n            }`}\n          >\n            <div className=\"flex items-start justify-between\">\n              <div className=\"flex-1\">\n                <h3 className=\"font-semibold text-gray-800\">{test.name}</h3>\n                <p className=\"text-sm text-gray-600 mt-1\">{test.description}</p>\n              </div>\n              {currentTest === test.id && (\n                <span className=\"ml-2 text-indigo-600\">‚úì</span>\n              )}\n              {!test.enabled && (\n                <span className=\"ml-2 text-xs text-gray-400 font-medium\">Coming Soon</span>\n              )}\n            </div>\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;;AAQA,MAAM,kBAAgC;IACpC;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,SAAS;IACX;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,SAAS;IACX;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,SAAS;IACX;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,SAAS;IACX;CACD;AAEM,SAAS,aAAa,EAAE,WAAW,EAAE,YAAY,EAAqB;IAC3E,qBACE,0PAAC;QAAI,WAAU;;0BACb,0PAAC;gBAAG,WAAU;0BAA2C;;;;;;0BACzD,0PAAC;gBAAI,WAAU;0BACZ,gBAAgB,GAAG,CAAC,CAAC,qBACpB,0PAAC;wBAEC,SAAS,IAAM,KAAK,OAAO,IAAI,aAAa,KAAK,EAAE;wBACnD,UAAU,CAAC,KAAK,OAAO;wBACvB,WAAW,CAAC,iDAAiD,EAC3D,gBAAgB,KAAK,EAAE,GACnB,mCACA,KAAK,OAAO,GACZ,wEACA,4DACJ;kCAEF,cAAA,0PAAC;4BAAI,WAAU;;8CACb,0PAAC;oCAAI,WAAU;;sDACb,0PAAC;4CAAG,WAAU;sDAA+B,KAAK,IAAI;;;;;;sDACtD,0PAAC;4CAAE,WAAU;sDAA8B,KAAK,WAAW;;;;;;;;;;;;gCAE5D,gBAAgB,KAAK,EAAE,kBACtB,0PAAC;oCAAK,WAAU;8CAAuB;;;;;;gCAExC,CAAC,KAAK,OAAO,kBACZ,0PAAC;oCAAK,WAAU;8CAAyC;;;;;;;;;;;;uBApBxD,KAAK,EAAE;;;;;;;;;;;;;;;;AA4BxB","debugId":null}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///Users/eyan/Desktop/keystroke_logger/frontend/src/hooks/useKeystrokeLogger.ts"],"sourcesContent":["// hooks/useKeystrokeLogger.ts\nimport { useRef, useCallback } from 'react';\nimport { KeystrokeEvent } from '../types/keystroke';\n\nexport interface KeystrokeAnalytics {\n  totalEvents: number;\n  keydownCount: number;\n  keyupCount: number;\n  duration: number;\n  averageSpeed: number;\n  uniqueKeys: number;\n}\n\n// simple uuid-ish for session grouping\nfunction genSessionId() {\n  return Math.random().toString(36).slice(2) + Date.now().toString(36);\n}\n\nexport function useKeystrokeLogger() {\n  const keystrokeData = useRef<KeystrokeEvent[]>([]);\n  const startTime = useRef<number | null>(null);\n\n  // NEW context refs\n  const sessionIdRef = useRef<string>(genSessionId());\n  const currentFieldRef = useRef<string | undefined>(undefined);\n  const activeChallengeIdRef = useRef<number | null>(null);\n  const deviceInfoRef = useRef<string>(navigator.userAgent);\n\n  // expose setters so components can tell us which field/challenge is active\n  const setFieldName = useCallback((name?: string) => {\n    currentFieldRef.current = name;\n  }, []);\n\n  const setActiveChallenge = useCallback((id: number | null) => {\n    activeChallengeIdRef.current = id;\n  }, []);\n\n  // Change the type to accept both HTMLTextAreaElement and HTMLInputElement\n  const logKeyDown = useCallback((e: React.KeyboardEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n    const now = Date.now();\n    if (keystrokeData.current.length === 0) {\n      startTime.current = now;\n    }\n    const event: KeystrokeEvent = {\n      key: e.key,\n      eventType: 'keydown',\n      timestamp: now,\n      code: e.code,\n\n      // NEW context\n      sessionId: sessionIdRef.current,\n      fieldName: currentFieldRef.current,\n      challengeId: activeChallengeIdRef.current,\n      elapsedSinceStart: startTime.current ? now - startTime.current : 0,\n      deviceInfo: deviceInfoRef.current,\n    };\n\n    keystrokeData.current.push(event);\n    // console.log('KeyDown:', event);\n    return event;\n  }, []);\n\n  const logKeyUp = useCallback((e: React.KeyboardEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n    const now = Date.now();\n    const event: KeystrokeEvent = {\n      key: e.key,\n      eventType: 'keyup',\n      timestamp: now,\n      code: e.code,\n\n      // NEW context\n      sessionId: sessionIdRef.current,\n      fieldName: currentFieldRef.current,\n      challengeId: activeChallengeIdRef.current,\n      elapsedSinceStart: startTime.current ? now - startTime.current : 0,\n      deviceInfo: deviceInfoRef.current,\n    };\n\n    keystrokeData.current.push(event);\n    // console.log('KeyUp:', event);\n    return event;\n  }, []);\n\n  const clearLogs = useCallback(() => {\n    keystrokeData.current = [];\n    startTime.current = null;\n\n    // NEW: start a fresh session\n    sessionIdRef.current = genSessionId();\n    activeChallengeIdRef.current = null;\n    // console.log('Keystroke data cleared');\n  }, []);\n\n  const getLogCount = useCallback(() => keystrokeData.current.length, []);\n  const getLogs = useCallback(() => [...keystrokeData.current], []);\n\n  const getAnalytics = useCallback(() => {\n    const logs = keystrokeData.current;\n    const keydownEvents = logs.filter(e => e.eventType === 'keydown');\n    const keyupEvents = logs.filter(e => e.eventType === 'keyup');\n    const uniqueKeys = new Set(logs.map(e => e.key)).size;\n\n    let duration = 0;\n    let averageSpeed = 0;\n\n    if (logs.length > 0 && startTime.current) {\n      const lastTimestamp = logs[logs.length - 1].timestamp;\n      duration = lastTimestamp - startTime.current;\n      if (duration > 0) averageSpeed = (keydownEvents.length / duration) * 60000; // KPM\n    }\n\n    return {\n      totalEvents: logs.length,\n      keydownCount: keydownEvents.length,\n      keyupCount: keyupEvents.length,\n      duration,\n      averageSpeed: Math.round(averageSpeed),\n      uniqueKeys,\n    } as KeystrokeAnalytics;\n  }, []);\n\n  const exportAsJSON = useCallback(() => {\n    const data = {\n      events: keystrokeData.current,\n      analytics: getAnalytics(),\n      exportedAt: new Date().toISOString(),\n    };\n    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `keystroke-data-${Date.now()}.json`;\n    link.click();\n    URL.revokeObjectURL(url);\n  }, [getAnalytics]);\n\n  const exportAsCSV = useCallback(() => {\n    const headers = [\n      'Index','Event Type','Key','Code','Timestamp',\n      'SessionId','FieldName','ChallengeId','ElapsedSinceStart','DeviceInfo'\n    ];\n    const rows = keystrokeData.current.map((event, index) => [\n      index + 1,\n      event.eventType,\n      event.key,\n      event.code,\n      event.timestamp,\n      event.sessionId ?? '',\n      event.fieldName ?? '',\n      event.challengeId ?? '',\n      event.elapsedSinceStart ?? '',\n      (event.deviceInfo ?? '').replace(/,/g, ';'), // avoid CSV break\n    ]);\n    const csvContent = [headers.join(','), ...rows.map(r => r.join(','))].join('\\n');\n    const blob = new Blob([csvContent], { type: 'text/csv' });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `keystroke-data-${Date.now()}.csv`;\n    link.click();\n    URL.revokeObjectURL(url);\n  }, []);\n\n  const getKeyPressDuration = useCallback((keyCode: string) => {\n    const logs = keystrokeData.current;\n    const durations: number[] = [];\n    for (let i = 0; i < logs.length - 1; i++) {\n      if (logs[i].code === keyCode && logs[i].eventType === 'keydown') {\n        for (let j = i + 1; j < logs.length; j++) {\n          if (logs[j].code === keyCode && logs[j].eventType === 'keyup') {\n            durations.push(logs[j].timestamp - logs[i].timestamp);\n            break;\n          }\n        }\n      }\n    }\n    return durations;\n  }, []);\n\n  const getInterKeyDelay = useCallback(() => {\n    const keydownEvents = keystrokeData.current.filter(e => e.eventType === 'keydown');\n    const delays: number[] = [];\n    for (let i = 1; i < keydownEvents.length; i++) {\n      delays.push(keydownEvents[i].timestamp - keydownEvents[i - 1].timestamp);\n    }\n    return delays;\n  }, []);\n\n  return {\n    // logging\n    logKeyDown,\n    logKeyUp,\n\n    // session / context controls (NEW)\n    setFieldName,\n    setActiveChallenge,\n\n    // utilities\n    clearLogs,\n    keystrokeData: keystrokeData.current,\n    getLogCount,\n    getLogs,\n    getAnalytics,\n    getKeyPressDuration,\n    getInterKeyDelay,\n    exportAsJSON,\n    exportAsCSV,\n  };\n}\n\nexport {};\n"],"names":[],"mappings":"AAAA,8BAA8B;;;;;AAC9B;;AAYA,uCAAuC;AACvC,SAAS;IACP,OAAO,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,KAAK,CAAC,KAAK,KAAK,GAAG,GAAG,QAAQ,CAAC;AACnE;AAEO,SAAS;IACd,MAAM,gBAAgB,IAAA,2NAAM,EAAmB,EAAE;IACjD,MAAM,YAAY,IAAA,2NAAM,EAAgB;IAExC,mBAAmB;IACnB,MAAM,eAAe,IAAA,2NAAM,EAAS;IACpC,MAAM,kBAAkB,IAAA,2NAAM,EAAqB;IACnD,MAAM,uBAAuB,IAAA,2NAAM,EAAgB;IACnD,MAAM,gBAAgB,IAAA,2NAAM,EAAS,UAAU,SAAS;IAExD,2EAA2E;IAC3E,MAAM,eAAe,IAAA,gOAAW,EAAC,CAAC;QAChC,gBAAgB,OAAO,GAAG;IAC5B,GAAG,EAAE;IAEL,MAAM,qBAAqB,IAAA,gOAAW,EAAC,CAAC;QACtC,qBAAqB,OAAO,GAAG;IACjC,GAAG,EAAE;IAEL,0EAA0E;IAC1E,MAAM,aAAa,IAAA,gOAAW,EAAC,CAAC;QAC9B,MAAM,MAAM,KAAK,GAAG;QACpB,IAAI,cAAc,OAAO,CAAC,MAAM,KAAK,GAAG;YACtC,UAAU,OAAO,GAAG;QACtB;QACA,MAAM,QAAwB;YAC5B,KAAK,EAAE,GAAG;YACV,WAAW;YACX,WAAW;YACX,MAAM,EAAE,IAAI;YAEZ,cAAc;YACd,WAAW,aAAa,OAAO;YAC/B,WAAW,gBAAgB,OAAO;YAClC,aAAa,qBAAqB,OAAO;YACzC,mBAAmB,UAAU,OAAO,GAAG,MAAM,UAAU,OAAO,GAAG;YACjE,YAAY,cAAc,OAAO;QACnC;QAEA,cAAc,OAAO,CAAC,IAAI,CAAC;QAC3B,kCAAkC;QAClC,OAAO;IACT,GAAG,EAAE;IAEL,MAAM,WAAW,IAAA,gOAAW,EAAC,CAAC;QAC5B,MAAM,MAAM,KAAK,GAAG;QACpB,MAAM,QAAwB;YAC5B,KAAK,EAAE,GAAG;YACV,WAAW;YACX,WAAW;YACX,MAAM,EAAE,IAAI;YAEZ,cAAc;YACd,WAAW,aAAa,OAAO;YAC/B,WAAW,gBAAgB,OAAO;YAClC,aAAa,qBAAqB,OAAO;YACzC,mBAAmB,UAAU,OAAO,GAAG,MAAM,UAAU,OAAO,GAAG;YACjE,YAAY,cAAc,OAAO;QACnC;QAEA,cAAc,OAAO,CAAC,IAAI,CAAC;QAC3B,gCAAgC;QAChC,OAAO;IACT,GAAG,EAAE;IAEL,MAAM,YAAY,IAAA,gOAAW,EAAC;QAC5B,cAAc,OAAO,GAAG,EAAE;QAC1B,UAAU,OAAO,GAAG;QAEpB,6BAA6B;QAC7B,aAAa,OAAO,GAAG;QACvB,qBAAqB,OAAO,GAAG;IAC/B,yCAAyC;IAC3C,GAAG,EAAE;IAEL,MAAM,cAAc,IAAA,gOAAW,EAAC,IAAM,cAAc,OAAO,CAAC,MAAM,EAAE,EAAE;IACtE,MAAM,UAAU,IAAA,gOAAW,EAAC,IAAM;eAAI,cAAc,OAAO;SAAC,EAAE,EAAE;IAEhE,MAAM,eAAe,IAAA,gOAAW,EAAC;QAC/B,MAAM,OAAO,cAAc,OAAO;QAClC,MAAM,gBAAgB,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,SAAS,KAAK;QACvD,MAAM,cAAc,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,SAAS,KAAK;QACrD,MAAM,aAAa,IAAI,IAAI,KAAK,GAAG,CAAC,CAAA,IAAK,EAAE,GAAG,GAAG,IAAI;QAErD,IAAI,WAAW;QACf,IAAI,eAAe;QAEnB,IAAI,KAAK,MAAM,GAAG,KAAK,UAAU,OAAO,EAAE;YACxC,MAAM,gBAAgB,IAAI,CAAC,KAAK,MAAM,GAAG,EAAE,CAAC,SAAS;YACrD,WAAW,gBAAgB,UAAU,OAAO;YAC5C,IAAI,WAAW,GAAG,eAAe,AAAC,cAAc,MAAM,GAAG,WAAY,OAAO,MAAM;QACpF;QAEA,OAAO;YACL,aAAa,KAAK,MAAM;YACxB,cAAc,cAAc,MAAM;YAClC,YAAY,YAAY,MAAM;YAC9B;YACA,cAAc,KAAK,KAAK,CAAC;YACzB;QACF;IACF,GAAG,EAAE;IAEL,MAAM,eAAe,IAAA,gOAAW,EAAC;QAC/B,MAAM,OAAO;YACX,QAAQ,cAAc,OAAO;YAC7B,WAAW;YACX,YAAY,IAAI,OAAO,WAAW;QACpC;QACA,MAAM,OAAO,IAAI,KAAK;YAAC,KAAK,SAAS,CAAC,MAAM,MAAM;SAAG,EAAE;YAAE,MAAM;QAAmB;QAClF,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,MAAM,OAAO,SAAS,aAAa,CAAC;QACpC,KAAK,IAAI,GAAG;QACZ,KAAK,QAAQ,GAAG,CAAC,eAAe,EAAE,KAAK,GAAG,GAAG,KAAK,CAAC;QACnD,KAAK,KAAK;QACV,IAAI,eAAe,CAAC;IACtB,GAAG;QAAC;KAAa;IAEjB,MAAM,cAAc,IAAA,gOAAW,EAAC;QAC9B,MAAM,UAAU;YACd;YAAQ;YAAa;YAAM;YAAO;YAClC;YAAY;YAAY;YAAc;YAAoB;SAC3D;QACD,MAAM,OAAO,cAAc,OAAO,CAAC,GAAG,CAAC,CAAC,OAAO,QAAU;gBACvD,QAAQ;gBACR,MAAM,SAAS;gBACf,MAAM,GAAG;gBACT,MAAM,IAAI;gBACV,MAAM,SAAS;gBACf,MAAM,SAAS,IAAI;gBACnB,MAAM,SAAS,IAAI;gBACnB,MAAM,WAAW,IAAI;gBACrB,MAAM,iBAAiB,IAAI;gBAC3B,CAAC,MAAM,UAAU,IAAI,EAAE,EAAE,OAAO,CAAC,MAAM;aACxC;QACD,MAAM,aAAa;YAAC,QAAQ,IAAI,CAAC;eAAS,KAAK,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI,CAAC;SAAM,CAAC,IAAI,CAAC;QAC3E,MAAM,OAAO,IAAI,KAAK;YAAC;SAAW,EAAE;YAAE,MAAM;QAAW;QACvD,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,MAAM,OAAO,SAAS,aAAa,CAAC;QACpC,KAAK,IAAI,GAAG;QACZ,KAAK,QAAQ,GAAG,CAAC,eAAe,EAAE,KAAK,GAAG,GAAG,IAAI,CAAC;QAClD,KAAK,KAAK;QACV,IAAI,eAAe,CAAC;IACtB,GAAG,EAAE;IAEL,MAAM,sBAAsB,IAAA,gOAAW,EAAC,CAAC;QACvC,MAAM,OAAO,cAAc,OAAO;QAClC,MAAM,YAAsB,EAAE;QAC9B,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,MAAM,GAAG,GAAG,IAAK;YACxC,IAAI,IAAI,CAAC,EAAE,CAAC,IAAI,KAAK,WAAW,IAAI,CAAC,EAAE,CAAC,SAAS,KAAK,WAAW;gBAC/D,IAAK,IAAI,IAAI,IAAI,GAAG,IAAI,KAAK,MAAM,EAAE,IAAK;oBACxC,IAAI,IAAI,CAAC,EAAE,CAAC,IAAI,KAAK,WAAW,IAAI,CAAC,EAAE,CAAC,SAAS,KAAK,SAAS;wBAC7D,UAAU,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,SAAS;wBACpD;oBACF;gBACF;YACF;QACF;QACA,OAAO;IACT,GAAG,EAAE;IAEL,MAAM,mBAAmB,IAAA,gOAAW,EAAC;QACnC,MAAM,gBAAgB,cAAc,OAAO,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,SAAS,KAAK;QACxE,MAAM,SAAmB,EAAE;QAC3B,IAAK,IAAI,IAAI,GAAG,IAAI,cAAc,MAAM,EAAE,IAAK;YAC7C,OAAO,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,SAAS,GAAG,aAAa,CAAC,IAAI,EAAE,CAAC,SAAS;QACzE;QACA,OAAO;IACT,GAAG,EAAE;IAEL,OAAO;QACL,UAAU;QACV;QACA;QAEA,mCAAmC;QACnC;QACA;QAEA,YAAY;QACZ;QACA,eAAe,cAAc,OAAO;QACpC;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 337, "column": 0}, "map": {"version":3,"sources":["file:///Users/eyan/Desktop/keystroke_logger/frontend/src/components/KeystrokeDataDisplay.tsx"],"sourcesContent":["import React from 'react';\nimport { KeystrokeEvent } from '../types/keystroke';\nimport { KeystrokeAnalytics } from '../hooks/useKeystrokeLogger';\n\ninterface KeystrokeDataDisplayProps {\n  events: KeystrokeEvent[];\n  analytics?: KeystrokeAnalytics;\n  onExportJSON?: () => void;\n  onExportCSV?: () => void;\n}\n\nexport function KeystrokeDataDisplay({\n  events,\n  analytics,\n  onExportJSON,\n  onExportCSV,\n}: KeystrokeDataDisplayProps) {\n  return (\n    <div className=\"mt-6 p-4 bg-gray-50 rounded-lg border-2 border-gray-200\">\n      {/* ===== HEADER ===== */}\n      <div className=\"mb-4\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h2 className=\"text-lg font-semibold text-gray-800\">\n            Keystroke Data ({events.length} events)\n          </h2>\n\n          {/* Export Buttons */}\n          {(onExportJSON || onExportCSV) && events.length > 0 && (\n            <div className=\"flex gap-2\">\n              {onExportJSON && (\n                <button\n                  onClick={onExportJSON}\n                  className=\"px-3 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 transition-colors\"\n                >\n                  Export JSON\n                </button>\n              )}\n              {onExportCSV && (\n                <button\n                  onClick={onExportCSV}\n                  className=\"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\"\n                >\n                  Export CSV\n                </button>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* ===== ANALYTICS SUMMARY ===== */}\n        {analytics && events.length > 0 && (\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4\">\n            <div className=\"bg-white p-3 rounded border border-gray-200\">\n              <div className=\"text-xs text-gray-600\">Total Events</div>\n              <div className=\"text-lg font-semibold text-gray-800\">\n                {analytics.totalEvents}\n              </div>\n            </div>\n            <div className=\"bg-white p-3 rounded border border-gray-200\">\n              <div className=\"text-xs text-gray-600\">Duration</div>\n              <div className=\"text-lg font-semibold text-gray-800\">\n                {(analytics.duration / 1000).toFixed(1)}s\n              </div>\n            </div>\n            <div className=\"bg-white p-3 rounded border border-gray-200\">\n              <div className=\"text-xs text-gray-600\">Avg Speed</div>\n              <div className=\"text-lg font-semibold text-gray-800\">\n                {analytics.averageSpeed} KPM\n              </div>\n            </div>\n            <div className=\"bg-white p-3 rounded border border-gray-200\">\n              <div className=\"text-xs text-gray-600\">Unique Keys</div>\n              <div className=\"text-lg font-semibold text-gray-800\">\n                {analytics.uniqueKeys}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* ===== DATA TABLE ===== */}\n      <div className=\"max-h-96 overflow-y-auto\">\n        {events.length === 0 ? (\n          <p className=\"text-gray-500 italic\">No data captured yet. Start typing!</p>\n        ) : (\n          <table className=\"w-full text-sm border-collapse\">\n            <thead className=\"bg-gray-200 sticky top-0\">\n              <tr>\n                <th className=\"p-2 text-left font-semibold\">#</th>\n                <th className=\"p-2 text-left font-semibold\">Event</th>\n                <th className=\"p-2 text-left font-semibold\">Key</th>\n                <th className=\"p-2 text-left font-semibold\">Code</th>\n                <th className=\"p-2 text-left font-semibold\">Field</th>\n                <th className=\"p-2 text-left font-semibold\">Challenge</th>\n                <th className=\"p-2 text-left font-semibold\">Session</th>\n                <th className=\"p-2 text-left font-semibold\">Elapsed (ms)</th>\n                <th className=\"p-2 text-left font-semibold\">Timestamp</th>\n                <th className=\"p-2 text-left font-semibold\">Device Info</th>\n              </tr>\n            </thead>\n            <tbody>\n              {events.map((e, index) => (\n                <tr\n                  key={index}\n                  className=\"border-b border-gray-200 hover:bg-gray-100\"\n                >\n                  <td className=\"p-2\">{index + 1}</td>\n                  <td className=\"p-2\">\n                    <span\n                      className={\n                        e.eventType === 'keydown'\n                          ? 'text-green-600'\n                          : 'text-blue-600'\n                      }\n                    >\n                      {e.eventType}\n                    </span>\n                  </td>\n                  <td className=\"p-2 font-mono\">{e.key}</td>\n                  <td className=\"p-2 font-mono text-xs\">{e.code}</td>\n                  <td className=\"p-2 text-xs text-gray-700\">\n                    {e.fieldName ?? '-'}\n                  </td>\n                  <td className=\"p-2 text-xs text-gray-700\">\n                    {e.challengeId ?? '-'}\n                  </td>\n                  <td className=\"p-2 text-xs text-gray-700\">\n                    {e.sessionId ? e.sessionId.slice(-6) : '-'}\n                  </td>\n                  <td className=\"p-2 text-xs text-gray-700\">\n                    {e.elapsedSinceStart ?? '-'}\n                  </td>\n                  <td className=\"p-2 font-mono text-xs\">{e.timestamp}</td>\n                  <td className=\"p-2 text-[10px] text-gray-600 truncate max-w-[180px]\">\n                    {e.deviceInfo ?? '-'}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 750, "column": 0}, "map": {"version":3,"sources":["file:///Users/eyan/Desktop/keystroke_logger/frontend/src/types/formdata.ts"],"sourcesContent":["\nexport interface FormData {\n  fullName: string;\n  email: string;\n  age: string;\n  occupation: string;\n  morningRoutine: string;\n  favoriteMemory: string;\n  weekendActivity: string;\n}\n\nexport const initialFormData: FormData = {\n  fullName: '',\n  email: '',\n  age: '',\n  occupation: '',\n  morningRoutine: '',\n  favoriteMemory: '',\n  weekendActivity: '',\n};"],"names":[],"mappings":";;;;AAWO,MAAM,kBAA4B;IACvC,UAAU;IACV,OAAO;IACP,KAAK;IACL,YAAY;IACZ,gBAAgB;IAChB,gBAAgB;IAChB,iBAAiB;AACnB","debugId":null}},
    {"offset": {"line": 767, "column": 0}, "map": {"version":3,"sources":["file:///Users/eyan/Desktop/keystroke_logger/frontend/src/components/forms/FormFields.tsx"],"sourcesContent":["import React from 'react';\n\ninterface FormSectionProps {\n  title: string;\n  children: React.ReactNode;\n}\n\nexport const FormSection = ({ title, children }: FormSectionProps) => (\n  <div className=\"mb-6\">\n    <h3 className=\"text-md font-semibold text-gray-700 mb-3\">\n      {title}\n    </h3>\n    <div className=\"space-y-4\">\n      {children}\n    </div>\n  </div>\n);\n\ninterface ShortInputFieldProps {\n  label: string;\n  value: string;\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  onKeyDown: (e: React.KeyboardEvent<HTMLInputElement>) => void;\n  onKeyUp: (e: React.KeyboardEvent<HTMLInputElement>) => void;\n  onFocus?: (e: React.FocusEvent<HTMLInputElement>) => void;\n  onBlur?: (e: React.FocusEvent<HTMLInputElement>) => void;\n  disabled?: boolean;\n}\n\nexport const ShortInputField = ({ \n  label, \n  value,\n  onChange,\n  onKeyDown,\n  onKeyUp,\n  onFocus,\n  onBlur,\n  disabled = false\n}: ShortInputFieldProps) => {\n  return (\n    <div>\n      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n        {label}\n      </label>\n      <input\n        type=\"text\"\n        value={value}\n        onChange={onChange}\n        onKeyDown={onKeyDown}\n        onKeyUp={onKeyUp}\n        onFocus={onFocus}\n        onBlur={onBlur}\n        disabled={disabled}\n        className={`w-full p-2 border-2 rounded-lg focus:ring-2 outline-none transition-all ${\n          disabled \n            ? 'bg-gray-100 border-gray-300 cursor-not-allowed' \n            : 'border-gray-300 focus:border-indigo-500 focus:ring-indigo-200'\n        }`}\n      />\n    </div>\n  );\n};\n\ninterface LongTextAreaProps {\n  label: string;\n  value: string;\n  onChange: (e: React.ChangeEvent<HTMLTextAreaElement>) => void;\n  onKeyDown: (e: React.KeyboardEvent<HTMLTextAreaElement>) => void;\n  onKeyUp: (e: React.KeyboardEvent<HTMLTextAreaElement>) => void;\n  onFocus?: (e: React.FocusEvent<HTMLTextAreaElement>) => void;\n  onBlur?: (e: React.FocusEvent<HTMLTextAreaElement>) => void;\n  disabled?: boolean;\n}\n\nexport const LongTextArea = ({ \n  label, \n  value,\n  onChange,\n  onKeyDown,\n  onKeyUp,\n  onFocus,\n  onBlur,\n  disabled = false\n}: LongTextAreaProps) => {\n  return (\n    <div>\n      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n        {label}\n      </label>\n      <textarea\n        value={value}\n        onChange={onChange}\n        onKeyDown={onKeyDown}\n        onKeyUp={onKeyUp}\n        onFocus={onFocus}\n        onBlur={onBlur}\n        disabled={disabled}\n        rows={3}\n        className={`w-full p-2 border-2 rounded-lg focus:ring-2 outline-none transition-all resize-none ${\n          disabled \n            ? 'bg-gray-100 border-gray-300 cursor-not-allowed' \n            : 'border-gray-300 focus:border-indigo-500 focus:ring-indigo-200'\n        }`}\n      />\n    </div>\n  );\n};"],"names":[],"mappings":";;;;;;;;;;AAOO,MAAM,cAAc,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAoB,iBAC/D,0PAAC;QAAI,WAAU;;0BACb,0PAAC;gBAAG,WAAU;0BACX;;;;;;0BAEH,0PAAC;gBAAI,WAAU;0BACZ;;;;;;;;;;;;AAgBA,MAAM,kBAAkB,CAAC,EAC9B,KAAK,EACL,KAAK,EACL,QAAQ,EACR,SAAS,EACT,OAAO,EACP,OAAO,EACP,MAAM,EACN,WAAW,KAAK,EACK;IACrB,qBACE,0PAAC;;0BACC,0PAAC;gBAAM,WAAU;0BACd;;;;;;0BAEH,0PAAC;gBACC,MAAK;gBACL,OAAO;gBACP,UAAU;gBACV,WAAW;gBACX,SAAS;gBACT,SAAS;gBACT,QAAQ;gBACR,UAAU;gBACV,WAAW,CAAC,wEAAwE,EAClF,WACI,mDACA,iEACJ;;;;;;;;;;;;AAIV;AAaO,MAAM,eAAe,CAAC,EAC3B,KAAK,EACL,KAAK,EACL,QAAQ,EACR,SAAS,EACT,OAAO,EACP,OAAO,EACP,MAAM,EACN,WAAW,KAAK,EACE;IAClB,qBACE,0PAAC;;0BACC,0PAAC;gBAAM,WAAU;0BACd;;;;;;0BAEH,0PAAC;gBACC,OAAO;gBACP,UAAU;gBACV,WAAW;gBACX,SAAS;gBACT,SAAS;gBACT,QAAQ;gBACR,UAAU;gBACV,MAAM;gBACN,WAAW,CAAC,oFAAoF,EAC9F,WACI,mDACA,iEACJ;;;;;;;;;;;;AAIV","debugId":null}},
    {"offset": {"line": 872, "column": 0}, "map": {"version":3,"sources":["file:///Users/eyan/Desktop/keystroke_logger/frontend/src/components/forms/DataCollectionForm.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { FormData } from '../../types/formdata';\nimport { FormSection, ShortInputField, LongTextArea } from './FormFields'\n\nexport interface DataCollectionFormProps {\n  formData: FormData;\n  onInputChange: (field: keyof FormData) => (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => void;\n  onKeyDown: (e: React.KeyboardEvent<HTMLInputElement | HTMLTextAreaElement>) => void;\n  onKeyUp: (e: React.KeyboardEvent<HTMLInputElement | HTMLTextAreaElement>) => void;\n  onFieldFocus?: (fieldName: keyof FormData) => void;\n  onFieldBlur?: () => void;\n  disabled?: boolean;\n  className?: string;\n}\n\nexport const DataCollectionForm: React.FC<DataCollectionFormProps> = ({\n  formData,\n  onInputChange,\n  onKeyDown,\n  onKeyUp,\n  onFieldFocus,\n  onFieldBlur,\n  disabled = false,\n  className = ''\n}) => {\n  const handleFocus = (fieldName: keyof FormData) => () => {\n    if (onFieldFocus) onFieldFocus(fieldName);\n  };\n\n  const handleBlur = () => {\n    if (onFieldBlur) onFieldBlur();\n  };\n\n  return (\n    <div className={className}>\n      <FormSection title=\"Personal Details\">\n        <ShortInputField\n          label=\"Full Name\"\n          value={formData.fullName}\n          onChange={onInputChange('fullName')}\n          onKeyDown={onKeyDown as any}\n          onKeyUp={onKeyUp as any}\n          onFocus={handleFocus('fullName')}\n          onBlur={handleBlur}\n          disabled={disabled}\n        />\n        <ShortInputField\n          label=\"Email Address\"\n          value={formData.email}\n          onChange={onInputChange('email')}\n          onKeyDown={onKeyDown as any}\n          onKeyUp={onKeyUp as any}\n          onFocus={handleFocus('email')}\n          onBlur={handleBlur}\n          disabled={disabled}\n        />\n        <ShortInputField\n          label=\"Age\"\n          value={formData.age}\n          onChange={onInputChange('age')}\n          onKeyDown={onKeyDown as any}\n          onKeyUp={onKeyUp as any}\n          onFocus={handleFocus('age')}\n          onBlur={handleBlur}\n          disabled={disabled}\n        />\n        <ShortInputField\n          label=\"Occupation\"\n          value={formData.occupation}\n          onChange={onInputChange('occupation')}\n          onKeyDown={onKeyDown as any}\n          onKeyUp={onKeyUp as any}\n          onFocus={handleFocus('occupation')}\n          onBlur={handleBlur}\n          disabled={disabled}\n        />\n      </FormSection>\n\n      <FormSection title=\"Tell Us About Yourself\">\n        <LongTextArea\n          label=\"Describe your typical morning routine\"\n          value={formData.morningRoutine}\n          onChange={onInputChange('morningRoutine')}\n          onKeyDown={onKeyDown as any}\n          onKeyUp={onKeyUp as any}\n          onFocus={handleFocus('morningRoutine')}\n          onBlur={handleBlur}\n          disabled={disabled}\n        />\n        <LongTextArea\n          label=\"What's your favorite memory from the past year?\"\n          value={formData.favoriteMemory}\n          onChange={onInputChange('favoriteMemory')}\n          onKeyDown={onKeyDown as any}\n          onKeyUp={onKeyUp as any}\n          onFocus={handleFocus('favoriteMemory')}\n          onBlur={handleBlur}\n          disabled={disabled}\n        />\n        <LongTextArea\n          label=\"How do you typically spend your weekends?\"\n          value={formData.weekendActivity}\n          onChange={onInputChange('weekendActivity')}\n          onKeyDown={onKeyDown as any}\n          onKeyUp={onKeyUp as any}\n          onFocus={handleFocus('weekendActivity')}\n          onBlur={handleBlur}\n          disabled={disabled}\n        />\n      </FormSection>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAGA;;;AAaO,MAAM,qBAAwD,CAAC,EACpE,QAAQ,EACR,aAAa,EACb,SAAS,EACT,OAAO,EACP,YAAY,EACZ,WAAW,EACX,WAAW,KAAK,EAChB,YAAY,EAAE,EACf;IACC,MAAM,cAAc,CAAC,YAA8B;YACjD,IAAI,cAAc,aAAa;QACjC;IAEA,MAAM,aAAa;QACjB,IAAI,aAAa;IACnB;IAEA,qBACE,0PAAC;QAAI,WAAW;;0BACd,0PAAC,oKAAW;gBAAC,OAAM;;kCACjB,0PAAC,wKAAe;wBACd,OAAM;wBACN,OAAO,SAAS,QAAQ;wBACxB,UAAU,cAAc;wBACxB,WAAW;wBACX,SAAS;wBACT,SAAS,YAAY;wBACrB,QAAQ;wBACR,UAAU;;;;;;kCAEZ,0PAAC,wKAAe;wBACd,OAAM;wBACN,OAAO,SAAS,KAAK;wBACrB,UAAU,cAAc;wBACxB,WAAW;wBACX,SAAS;wBACT,SAAS,YAAY;wBACrB,QAAQ;wBACR,UAAU;;;;;;kCAEZ,0PAAC,wKAAe;wBACd,OAAM;wBACN,OAAO,SAAS,GAAG;wBACnB,UAAU,cAAc;wBACxB,WAAW;wBACX,SAAS;wBACT,SAAS,YAAY;wBACrB,QAAQ;wBACR,UAAU;;;;;;kCAEZ,0PAAC,wKAAe;wBACd,OAAM;wBACN,OAAO,SAAS,UAAU;wBAC1B,UAAU,cAAc;wBACxB,WAAW;wBACX,SAAS;wBACT,SAAS,YAAY;wBACrB,QAAQ;wBACR,UAAU;;;;;;;;;;;;0BAId,0PAAC,oKAAW;gBAAC,OAAM;;kCACjB,0PAAC,qKAAY;wBACX,OAAM;wBACN,OAAO,SAAS,cAAc;wBAC9B,UAAU,cAAc;wBACxB,WAAW;wBACX,SAAS;wBACT,SAAS,YAAY;wBACrB,QAAQ;wBACR,UAAU;;;;;;kCAEZ,0PAAC,qKAAY;wBACX,OAAM;wBACN,OAAO,SAAS,cAAc;wBAC9B,UAAU,cAAc;wBACxB,WAAW;wBACX,SAAS;wBACT,SAAS,YAAY;wBACrB,QAAQ;wBACR,UAAU;;;;;;kCAEZ,0PAAC,qKAAY;wBACX,OAAM;wBACN,OAAO,SAAS,eAAe;wBAC/B,UAAU,cAAc;wBACxB,WAAW;wBACX,SAAS;wBACT,SAAS,YAAY;wBACrB,QAAQ;wBACR,UAAU;;;;;;;;;;;;;;;;;;AAKpB","debugId":null}},
    {"offset": {"line": 1017, "column": 0}, "map": {"version":3,"sources":["file:///Users/eyan/Desktop/keystroke_logger/frontend/src/components/tests/TimedTest.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { useKeystrokeLogger } from '../../hooks/useKeystrokeLogger';\nimport { KeystrokeDataDisplay } from '../KeystrokeDataDisplay';\nimport { FormData, initialFormData } from '../../types/formdata';\nimport { DataCollectionForm } from '../forms/DataCollectionForm';\n\ninterface TimedTestProps {\n  onShowData: () => void;\n  onClearData: () => void;\n  showData: boolean;\n}\n\nexport function TimedTest({ onShowData, onClearData, showData }: TimedTestProps) {\n  const [formData, setFormData] = useState<FormData>(initialFormData);\n  const [timeLeft, setTimeLeft] = useState(120);\n  const [isTimerActive, setIsTimerActive] = useState(false);\n  const [timerExpired, setTimerExpired] = useState(false);\n  const [hasStarted, setHasStarted] = useState(false);\n  \n  const { \n    logKeyDown, \n    logKeyUp, \n    clearLogs, \n    getLogs, \n    getAnalytics,\n    exportAsJSON,\n    exportAsCSV \n  } = useKeystrokeLogger();\n  \n  const timerRef = useRef<number | null>(null);\n\n  // Timer effect\n  useEffect(() => {\n    if (isTimerActive && timeLeft > 0) {\n      timerRef.current = window.setInterval(() => {\n        setTimeLeft((prev) => {\n          if (prev <= 1) {\n            setIsTimerActive(false);\n            setTimerExpired(true);\n            return 0;\n          }\n          return prev - 1;\n        });\n      }, 1000);\n    }\n\n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n    };\n  }, [isTimerActive, timeLeft]);\n\n  const handleInputChange = (field: keyof FormData) => (\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\n  ) => {\n    if (timerExpired) return;\n    \n    setFormData(prev => ({ ...prev, [field]: e.target.value }));\n    \n    // Start timer on first keystroke\n    if (!hasStarted) {\n      setHasStarted(true);\n      setIsTimerActive(true);\n    }\n  };\n\n  const handleClear = () => {\n    setFormData(initialFormData);\n    setIsTimerActive(false);\n    setTimerExpired(false);\n    setHasStarted(false);\n    setTimeLeft(120);\n    clearLogs();\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n    onClearData();\n  };\n\n  // Calculate completion percentage\n  const totalFields = Object.keys(formData).length;\n  const filledFields = Object.values(formData).filter(val => val.trim() !== '').length;\n  const completionPercentage = Math.round((filledFields / totalFields) * 100);\n\n  return (\n    <div>\n      {/* Timer Status */}\n      <div className={`mb-6 p-4 rounded-lg border-2 ${\n        timerExpired ? 'bg-red-50 border-red-300' : \n        isTimerActive ? 'bg-orange-50 border-orange-300' : \n        'bg-blue-50 border-blue-300'\n      }`}>\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h3 className=\"font-semibold text-gray-800\">\n              {timerExpired ? '‚è∞ Time\\'s Up!' : \n               isTimerActive ? '‚è±Ô∏è Timer Running' : \n               '‚è±Ô∏è Timer Ready'}\n            </h3>\n            <p className=\"text-sm text-gray-600\">\n              {timerExpired ? 'You ran out of time!' : \n               isTimerActive ? 'Fill out as much as you can!' : \n               'Start typing to begin the 120-second challenge'}\n            </p>\n          </div>\n          <div className=\"text-right\">\n            <div className={`text-4xl font-bold ${\n              timerExpired ? 'text-red-600' : \n              timeLeft <= 10 ? 'text-red-600' : \n              timeLeft <= 30 ? 'text-orange-600' : \n              'text-blue-600'\n            }`}>\n              {timeLeft}s\n            </div>\n            <div className=\"text-sm text-gray-600 mt-1\">\n              {completionPercentage}% Complete\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Instructions */}\n      <div className=\"mb-6 p-4 bg-indigo-50 rounded-lg border-2 border-indigo-200\">\n        <h3 className=\"font-semibold text-gray-800 mb-2\">üìã Instructions</h3>\n        <p className=\"text-sm text-gray-700\">\n          You have <strong>120 seconds</strong> to fill out as many fields as possible. \n          The timer starts as soon as you begin typing. Answer quickly but naturally!\n        </p>\n      </div>\n\n      {/* Form */}\n      <DataCollectionForm\n        formData={formData}\n        onInputChange={handleInputChange}\n        onKeyDown={logKeyDown}\n        onKeyUp={logKeyUp}\n        disabled={timerExpired}\n        className=\"max-h-[500px] overflow-y-auto pr-2 mb-6\"\n      />\n\n      {/* Action Buttons */}\n      <div className=\"flex gap-3\">\n        <button\n          onClick={onShowData}\n          className=\"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium\"\n        >\n          {showData ? 'Hide Data' : 'Show All Data'}\n        </button>\n        <button\n          onClick={handleClear}\n          className=\"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium\"\n        >\n          Clear Data\n        </button>\n      </div>\n\n      {/* Keystroke Data Display */}\n      {showData && (\n        <KeystrokeDataDisplay \n          events={getLogs()}\n          analytics={getAnalytics()}\n          onExportJSON={exportAsJSON}\n          onExportCSV={exportAsCSV}\n        />\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1260, "column": 0}, "map": {"version":3,"sources":["file:///Users/eyan/Desktop/keystroke_logger/frontend/src/services/supabaseClient.ts"],"sourcesContent":["import { createClient, type SupabaseClient } from '@supabase/supabase-js';\n\nlet client: SupabaseClient | null = null;\n\nexport function getSupabase(): SupabaseClient {\n  if (client) return client;\n  const url = process.env.NEXT_PUBLIC_SUPABASE_URL;\n  const anon = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n\n  if (!url || !anon) {\n    throw new Error('Missing Supabase env vars');\n  }\n\n  client = createClient(url, anon);\n  return client;\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,IAAI,SAAgC;AAE7B,SAAS;IACd,IAAI,QAAQ,OAAO;IACnB,MAAM;IACN,MAAM;IAEN;;IAIA,SAAS,IAAA,mNAAY,EAAC,KAAK;IAC3B,OAAO;AACT","debugId":null}},
    {"offset": {"line": 1280, "column": 0}, "map": {"version":3,"sources":["file:///Users/eyan/Desktop/keystroke_logger/frontend/src/services/saveKeystrokes.ts"],"sourcesContent":["import { getSupabase } from './supabaseClient';\n\nexport type KeystrokeEvent = {\n  key: string;\n  pressed_at?: string | Date;\n  latency_ms?: number | null;\n  meta?: Record<string, unknown>;\n};\n\nexport async function saveKeystrokesNoAuth(events: KeystrokeEvent[], testType?: string) {\n  const supabase = getSupabase(); \n\n  const rows = events.map(e => ({\n    key: e.key,\n    pressed_at: e.pressed_at ? new Date(e.pressed_at).toISOString() : new Date().toISOString(),\n    latency_ms: e.latency_ms ?? null,\n    meta: { ...(e.meta ?? {}), testType: testType ?? null },\n  }));\n\n  const batchSize = 500;\n  for (let i = 0; i < rows.length; i += batchSize) {\n    const slice = rows.slice(i, i + batchSize);\n    const { error } = await supabase.from('keystrokes').insert(slice);\n    if (error) throw error;\n  }\n  return { count: rows.length };\n}"],"names":[],"mappings":";;;;AAAA;;AASO,eAAe,qBAAqB,MAAwB,EAAE,QAAiB;IACpF,MAAM,WAAW,IAAA,4JAAW;IAE5B,MAAM,OAAO,OAAO,GAAG,CAAC,CAAA,IAAK,CAAC;YAC5B,KAAK,EAAE,GAAG;YACV,YAAY,EAAE,UAAU,GAAG,IAAI,KAAK,EAAE,UAAU,EAAE,WAAW,KAAK,IAAI,OAAO,WAAW;YACxF,YAAY,EAAE,UAAU,IAAI;YAC5B,MAAM;gBAAE,GAAI,EAAE,IAAI,IAAI,CAAC,CAAC;gBAAG,UAAU,YAAY;YAAK;QACxD,CAAC;IAED,MAAM,YAAY;IAClB,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,MAAM,EAAE,KAAK,UAAW;QAC/C,MAAM,QAAQ,KAAK,KAAK,CAAC,GAAG,IAAI;QAChC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,cAAc,MAAM,CAAC;QAC3D,IAAI,OAAO,MAAM;IACnB;IACA,OAAO;QAAE,OAAO,KAAK,MAAM;IAAC;AAC9B","debugId":null}},
    {"offset": {"line": 1311, "column": 0}, "map": {"version":3,"sources":["file:///Users/eyan/Desktop/keystroke_logger/frontend/src/components/tests/Free.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useKeystrokeLogger } from '../../hooks/useKeystrokeLogger';\nimport { KeystrokeDataDisplay } from '../KeystrokeDataDisplay';\nimport { saveKeystrokesNoAuth } from '../../services/saveKeystrokes';\nimport { FormData, initialFormData } from '../../types/formdata';\nimport { DataCollectionForm } from '../forms/DataCollectionForm';\n\ninterface FreeTypingTestProps {\n  onShowData: () => void;\n  onClearData: () => void;\n  showData: boolean;\n}\n\nexport function Free({ onShowData, onClearData, showData }: FreeTypingTestProps) {\n  const [formData, setFormData] = useState<FormData>(initialFormData);\n  const [isSaving, setIsSaving] = useState(false);\n  const [sessionId, setSessionId] = useState<string>('');\n\n  useEffect(() => {\n    const id = (globalThis.crypto?.randomUUID?.() ?? `sess_${Date.now()}`);\n    setSessionId(id);\n  }, []);\n\n  const {\n    logKeyDown,\n    logKeyUp,\n    clearLogs,\n    getLogs,\n    getAnalytics,\n    exportAsJSON,\n    exportAsCSV\n  } = useKeystrokeLogger();\n\n  const handleInputChange = (field: keyof FormData) => (\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\n  ) => {\n    setFormData(prev => ({ ...prev, [field]: e.target.value }));\n  };\n\n  const handleClear = () => {\n    setFormData(initialFormData);\n    clearLogs();\n    onClearData();\n  };\n\n  async function handleSaveToSupabase() {\n    try {\n      setIsSaving(true);\n\n      const events = getLogs(); \n\n      const shaped = events.map((ev: any) => ({\n        key: ev.key ?? ev.code ?? 'Unknown',\n        pressed_at: ev.timestamp ?? ev.time ?? ev.pressedAt ?? new Date().toISOString(),\n        latency_ms: ev.latencyMs ?? ev.latency ?? null,\n        meta: {\n          type: ev.type,\n          field: ev.fieldName,  \n          sessionId,\n          formSnapshot: {\n            fullName: formData.fullName,\n            email: formData.email,\n          }\n        }\n      }));\n\n      const res = await saveKeystrokesNoAuth(shaped, 'free-form');\n\n      alert(`Saved ${res.count} keystrokes to Supabase ‚úÖ`);\n    } catch (err: any) {\n      console.error(err);\n      alert(`Save failed: ${err?.message ?? err}`);\n    } finally {\n      setIsSaving(false);\n    }\n  }\n\n  const totalFields = Object.keys(formData).length;\n  const filledFields = Object.values(formData).filter(val => val.trim() !== '').length;\n  const completionPercentage = Math.round((filledFields / totalFields) * 100);\n\n  return (\n    <div>\n      {/* Instructions */}\n      <div className=\"mb-6 p-4 bg-indigo-50 rounded-lg border-2 border-indigo-200\">\n        <h3 className=\"font-semibold text-gray-800 mb-2\">üìã Instructions</h3>\n        <p className=\"text-sm text-gray-700\">\n          Fill out the form below at your own pace. Take your time and answer naturally.\n        </p>\n        <div className=\"mt-2 text-sm text-gray-600\">\n          Progress: <strong>{completionPercentage}% Complete</strong> ({filledFields}/{totalFields} fields)\n        </div>\n      </div>\n\n      {/* Form */}\n      <DataCollectionForm\n        formData={formData}\n        onInputChange={handleInputChange}\n        onKeyDown={logKeyDown}\n        onKeyUp={logKeyUp}\n        className=\"max-h-[500px] overflow-y-auto pr-2 mb-6\"\n      />\n\n      {/* Action Buttons */}\n      <div className=\"flex gap-3\">\n        <button\n          onClick={onShowData}\n          className=\"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium\"\n        >\n          {showData ? 'Hide Data' : 'Show All Data'}\n        </button>\n\n        <button\n          onClick={handleClear}\n          className=\"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium\"\n        >\n          Clear Data\n        </button>\n\n        <button\n          onClick={handleSaveToSupabase}\n          disabled={isSaving || !sessionId}\n          className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-60\"\n        >\n          {isSaving ? 'Saving‚Ä¶' : 'Save to Supabase'}\n        </button>\n      </div>\n\n      {/* Data viewer */}\n      {showData && (\n        <KeystrokeDataDisplay\n          events={getLogs()}\n          analytics={getAnalytics()}\n          onExportJSON={exportAsJSON}\n          onExportCSV={exportAsCSV}\n        />\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1501, "column": 0}, "map": {"version":3,"sources":["file:///Users/eyan/Desktop/keystroke_logger/frontend/src/components/tests/LyingTest.tsx"],"sourcesContent":["// components/tests/LyingTest.tsx\nimport React, { useState, useMemo } from 'react';\nimport { useKeystrokeLogger } from '../../hooks/useKeystrokeLogger';\nimport { KeystrokeDataDisplay } from '../KeystrokeDataDisplay';\n\ninterface LyingTestProps {\n  onShowData: () => void;\n  onClearData: () => void;\n  showData: boolean;\n}\n\ninterface FormData {\n  fullName: string;\n  email: string;\n  age: string;\n  occupation: string;\n  morningRoutine: string;\n  favoriteMemory: string;\n  weekendActivity: string;\n}\n\ntype FieldMode = 'truth' | 'lie';\n\nconst FormSection = ({ title, children }: { title: string; children: React.ReactNode }) => (\n  <div className=\"mb-6\">\n    <h3 className=\"text-md font-semibold text-gray-700 mb-3\">\n      {title}\n    </h3>\n    <div className=\"space-y-4\">\n      {children}\n    </div>\n  </div>\n);\n\nconst ShortInputField = ({ \n  label, \n  value,\n  onChange,\n  onKeyDown,\n  onKeyUp,\n  mode \n}: { \n  label: string; \n  value: string;\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  onKeyDown: (e: React.KeyboardEvent<HTMLInputElement>) => void;\n  onKeyUp: (e: React.KeyboardEvent<HTMLInputElement>) => void;\n  mode: FieldMode;\n}) => {\n  const isTruth = mode === 'truth';\n  \n  return (\n    <div>\n      <label className={`block text-sm font-medium mb-1 ${isTruth ? 'text-green-700' : 'text-red-700'}`}>\n        {label} {isTruth ? '‚úì (Tell Truth)' : '‚úó (Tell Lie)'}\n      </label>\n      <input\n        type=\"text\"\n        value={value}\n        onChange={onChange}\n        onKeyDown={onKeyDown}\n        onKeyUp={onKeyUp}\n        className={`w-full p-2 border-2 rounded-lg focus:ring-2 outline-none transition-all ${\n          isTruth \n            ? 'border-green-300 bg-green-50 focus:border-green-500 focus:ring-green-200' \n            : 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-200'\n        }`}\n      />\n    </div>\n  );\n};\n\nconst LongTextArea = ({ \n  label, \n  value,\n  onChange,\n  onKeyDown,\n  onKeyUp,\n  mode\n}: { \n  label: string;\n  value: string;\n  onChange: (e: React.ChangeEvent<HTMLTextAreaElement>) => void;\n  onKeyDown: (e: React.KeyboardEvent<HTMLTextAreaElement>) => void;\n  onKeyUp: (e: React.KeyboardEvent<HTMLTextAreaElement>) => void;\n  mode: FieldMode;\n}) => {\n  const isTruth = mode === 'truth';\n  \n  return (\n    <div>\n      <label className={`block text-sm font-medium mb-1 ${isTruth ? 'text-green-700' : 'text-red-700'}`}>\n        {label} {isTruth ? '‚úì (Tell Truth)' : '‚úó (Tell Lie)'}\n      </label>\n      <textarea\n        value={value}\n        onChange={onChange}\n        onKeyDown={onKeyDown}\n        onKeyUp={onKeyUp}\n        rows={3}\n        className={`w-full p-2 border-2 rounded-lg focus:ring-2 outline-none transition-all resize-none ${\n          isTruth \n            ? 'border-green-300 bg-green-50 focus:border-green-500 focus:ring-green-200' \n            : 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-200'\n        }`}\n      />\n    </div>\n  );\n};\n\nexport function LyingTest({ onShowData, onClearData, showData }: LyingTestProps) {\n  const [formData, setFormData] = useState<FormData>({\n    fullName: '',\n    email: '',\n    age: '',\n    occupation: '',\n    morningRoutine: '',\n    favoriteMemory: '',\n    weekendActivity: '',\n  });\n\n  // Randomly assign truth/lie to each field (memoized so it doesn't change on re-render)\n  const fieldModes = useMemo(() => {\n    const fields = Object.keys(formData) as (keyof FormData)[];\n    const modes: Record<string, FieldMode> = {};\n    \n    fields.forEach(field => {\n      modes[field] = Math.random() > 0.5 ? 'truth' : 'lie';\n    });\n    \n    return modes;\n  }, []);\n\n  const { logKeyDown, logKeyUp, clearLogs, getLogs, getAnalytics, exportAsJSON, exportAsCSV } = useKeystrokeLogger();\n\n  const handleInputChange = (field: keyof FormData) => (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    setFormData(prev => ({ ...prev, [field]: e.target.value }));\n  };\n\n  const handleClear = () => {\n    setFormData({\n      fullName: '',\n      email: '',\n      age: '',\n      occupation: '',\n      morningRoutine: '',\n      favoriteMemory: '',\n      weekendActivity: '',\n    });\n    clearLogs();\n    onClearData();\n  };\n\n  const renderShortInput = (label: string, field: keyof FormData) => (\n    <ShortInputField\n      label={label}\n      value={formData[field]}\n      onChange={handleInputChange(field)}\n      onKeyDown={logKeyDown as any}\n      onKeyUp={logKeyUp as any}\n      mode={fieldModes[field]}\n    />\n  );\n\n  const renderLongText = (label: string, field: keyof FormData) => (\n    <LongTextArea\n      label={label}\n      value={formData[field]}\n      onChange={handleInputChange(field)}\n      onKeyDown={logKeyDown as any}\n      onKeyUp={logKeyUp as any}\n      mode={fieldModes[field]}\n    />\n  );\n\n  return (\n    <div>\n      <div className=\"mb-6 p-4 bg-gradient-to-r from-green-50 via-yellow-50 to-red-50 rounded-lg border-2 border-yellow-300\">\n        <h3 className=\"font-semibold text-gray-800 mb-2\">üé≠ Lying Detection Test</h3>\n        <div className=\"space-y-2\">\n          <p className=\"text-sm text-gray-700\">\n            Fill out the form below following these rules:\n          </p>\n          <div className=\"flex items-center gap-2 text-sm\">\n            <span className=\"px-3 py-1 bg-green-100 border border-green-300 rounded font-semibold text-green-800\">\n              ‚úì Green = Tell the TRUTH\n            </span>\n            <span className=\"px-3 py-1 bg-red-100 border border-red-300 rounded font-semibold text-red-800\">\n              ‚úó Red = Tell a LIE\n            </span>\n          </div>\n          <p className=\"text-xs text-gray-600 italic\">\n            The colors are randomly assigned. Switch between truth and lies as indicated by the field colors.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"max-h-[600px] overflow-y-auto pr-2\">\n        <FormSection title=\"Personal Details\">\n          {renderShortInput(\"Full Name\", \"fullName\")}\n          {renderShortInput(\"Email Address\", \"email\")}\n          {renderShortInput(\"Age\", \"age\")}\n          {renderShortInput(\"Occupation\", \"occupation\")}\n        </FormSection>\n\n        <FormSection title=\"Tell Us About Yourself\">\n          {renderLongText(\"Describe your typical morning routine\", \"morningRoutine\")}\n          {renderLongText(\"What's your favorite memory from the past year?\", \"favoriteMemory\")}\n          {renderLongText(\"How do you typically spend your weekends?\", \"weekendActivity\")}\n        </FormSection>\n      </div>\n\n      <div className=\"flex gap-3 mt-6\">\n        <button\n          onClick={onShowData}\n          className=\"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium\"\n        >\n          {showData ? 'Hide Data' : 'Show All Data'}\n        </button>\n        <button\n          onClick={handleClear}\n          className=\"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium\"\n        >\n          Clear Data\n        </button>\n      </div>\n\n      {showData && (\n        <KeystrokeDataDisplay \n          events={getLogs()}\n          analytics={getAnalytics()}\n          onExportJSON={exportAsJSON}\n          onExportCSV={exportAsCSV}\n        />\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1823, "column": 0}, "map": {"version":3,"sources":["file:///Users/eyan/Desktop/keystroke_logger/frontend/src/components/tests/MultitaskingTest.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useKeystrokeLogger } from '../../hooks/useKeystrokeLogger';\nimport { KeystrokeDataDisplay } from '../KeystrokeDataDisplay';\nimport { FormData, initialFormData } from '../../types/formdata';\nimport { DataCollectionForm } from '../forms/DataCollectionForm';\n\ninterface MultitaskingTestProps {\n  onShowData: () => void;\n  onClearData: () => void;\n  showData: boolean;\n}\n\ninterface Challenge {\n  id: number;\n  type: 'math' | 'stroop';\n  question: string;\n  correctAnswer: string;\n  options?: string[];\n  colorWord?: string;\n  inkColor?: string;\n}\n\n// ---- Pace/limits (edit these to make it faster/slower) -----------------\nconst PACE = {\n  minDelayMs: 8000,      // 8s minimum between challenges\n  maxDelayMs: 14000,     // up to 14s\n  perChallengeSecs: 10,  // give 10s to answer\n  maxChallenges: 10,     // allow max 10 challenges\n} as const;\n// -----------------------------------------------------------------------\n\nconst normalize = (s: string) => s.trim().toLowerCase();\n\nexport function MultitaskingTest({ onShowData, onClearData, showData }: MultitaskingTestProps) {\n  const [formData, setFormData] = useState<FormData>(initialFormData);\n  const [hasStarted, setHasStarted] = useState(false);\n  const [currentChallenge, setCurrentChallenge] = useState<Challenge | null>(null);\n  const [userAnswer, setUserAnswer] = useState('');\n  const [challengeTimer, setChallengeTimer] = useState<number>(PACE.perChallengeSecs);\n  const [completedChallenges, setCompletedChallenges] = useState(0);\n  const [isFormDisabled, setIsFormDisabled] = useState(false);\n  const [answerError, setAnswerError] = useState<string | null>(null);\n\n  const challengeTimerRef = useRef<number | null>(null);\n  const nextChallengeTimerRef = useRef<number | null>(null);\n  const challengesShownRef = useRef(0);\n\n  const {\n    logKeyDown, logKeyUp,\n    setFieldName, setActiveChallenge,\n    clearLogs, getLogs, getAnalytics,\n    exportAsJSON, exportAsCSV\n  } = useKeystrokeLogger();\n\n  // Generate challenges\n  const generateChallenge = (): Challenge => {\n    const challengeId = Date.now();\n    const isMath = Math.random() > 0.5;\n\n    if (isMath) {\n      const operations = [\n        { q: '13 + 17 √ó 2', a: '47' },\n        { q: '8 √ó 9 - 15', a: '57' },\n        { q: '100 √∑ 4 + 6', a: '31' },\n        { q: '45 - 12 √∑ 3', a: '41' },\n        { q: '7 √ó 6 + 8', a: '50' },\n        { q: '64 √∑ 8 √ó 5', a: '40' },\n        { q: '25 + 15 - 9', a: '31' },\n        { q: '12 √ó 3 - 7', a: '29' },\n      ];\n      const op = operations[Math.floor(Math.random() * operations.length)];\n      return {\n        id: challengeId,\n        type: 'math',\n        question: `Solve: ${op.q} = ?`,\n        correctAnswer: op.a,\n      };\n    } else {\n      const stroopCombos = [\n        { word: 'RED',    ink: 'blue',   answer: 'Blue' },\n        { word: 'BLUE',   ink: 'red',    answer: 'Red' },\n        { word: 'GREEN',  ink: 'yellow', answer: 'Yellow' },\n        { word: 'YELLOW', ink: 'green',  answer: 'Green' },\n        { word: 'PURPLE', ink: 'orange', answer: 'Orange' },\n        { word: 'ORANGE', ink: 'purple', answer: 'Purple' },\n      ];\n      const combo = stroopCombos[Math.floor(Math.random() * stroopCombos.length)];\n      return {\n        id: challengeId,\n        type: 'stroop',\n        question: 'Select the ink color (not the word):',\n        colorWord: combo.word,\n        inkColor: combo.ink,\n        correctAnswer: combo.answer,\n        options: ['Red', 'Blue', 'Green', 'Yellow', 'Orange', 'Purple'],\n      };\n    }\n  };\n\n  // Schedule next challenge\n  const scheduleNextChallenge = () => {\n    if (challengesShownRef.current >= PACE.maxChallenges) return;\n\n    const delay = PACE.minDelayMs + Math.random() * (PACE.maxDelayMs - PACE.minDelayMs);\n    nextChallengeTimerRef.current = window.setTimeout(() => {\n      const challenge = generateChallenge();\n      setCurrentChallenge(challenge);\n      setActiveChallenge(challenge.id);\n      setChallengeTimer(PACE.perChallengeSecs);\n      setAnswerError(null);\n      setIsFormDisabled(true);\n      challengesShownRef.current += 1;\n    }, delay);\n  };\n\n  // Challenge timer countdown\n  useEffect(() => {\n    if (currentChallenge && challengeTimer > 0) {\n      challengeTimerRef.current = window.setTimeout(() => {\n        setChallengeTimer(prev => prev - 1);\n      }, 1000);\n    } else if (currentChallenge && challengeTimer === 0) {\n      handleChallengeTimeout();\n    }\n\n    return () => {\n      if (challengeTimerRef.current) clearTimeout(challengeTimerRef.current);\n    };\n  }, [currentChallenge, challengeTimer]);\n\n  const handleChallengeTimeout = () => {\n    setAnswerError('‚è∞ Time expired! Moving on...');\n    setTimeout(() => {\n      setCurrentChallenge(null);\n      setActiveChallenge(null);\n      setUserAnswer('');\n      setAnswerError(null);\n      setIsFormDisabled(false);\n      scheduleNextChallenge();\n    }, 1500);\n  };\n\n  const handleChallengeSubmit = () => {\n    if (!currentChallenge) return;\n    \n    const isCorrect = normalize(userAnswer) === normalize(currentChallenge.correctAnswer);\n    \n    if (!isCorrect) {\n      setAnswerError('‚ùå Incorrect! Try again.');\n      return;\n    }\n\n    setCompletedChallenges(prev => prev + 1);\n    setCurrentChallenge(null);\n    setActiveChallenge(null);\n    setUserAnswer('');\n    setAnswerError(null);\n    setIsFormDisabled(false);\n    scheduleNextChallenge();\n  };\n\n  const handleOptionClick = (option: string) => {\n    setUserAnswer(option);\n    if (answerError) setAnswerError(null);\n  };\n\n  const handleInputChange = (field: keyof FormData) => (\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\n  ) => {\n    if (isFormDisabled) return;\n    setFormData(prev => ({ ...prev, [field]: e.target.value }));\n    \n    if (!hasStarted) {\n      setHasStarted(true);\n      scheduleNextChallenge();\n    }\n  };\n\n  const handleFieldFocus = (fieldName: keyof FormData) => {\n    if (setFieldName) setFieldName(fieldName);\n  };\n\n  const handleFieldBlur = () => {\n    if (setFieldName) setFieldName(undefined);\n  };\n\n  const handleClear = () => {\n    setFormData(initialFormData);\n    setHasStarted(false);\n    setCurrentChallenge(null);\n    setActiveChallenge(null);\n    setUserAnswer('');\n    setChallengeTimer(PACE.perChallengeSecs);\n    setAnswerError(null);\n    setCompletedChallenges(0);\n    setIsFormDisabled(false);\n    challengesShownRef.current = 0;\n    clearLogs();\n\n    if (challengeTimerRef.current) clearTimeout(challengeTimerRef.current);\n    if (nextChallengeTimerRef.current) clearTimeout(nextChallengeTimerRef.current);\n\n    onClearData();\n  };\n\n  const totalFields = Object.keys(formData).length;\n  const filledFields = Object.values(formData).filter(val => val.trim() !== '').length;\n  const completionPercentage = Math.round((filledFields / totalFields) * 100);\n\n  return (\n    <div className=\"relative\">\n      {/* Instructions */}\n      <div className=\"mb-6 p-4 bg-purple-50 rounded-lg border-2 border-purple-200\">\n        <h3 className=\"font-semibold text-gray-800 mb-2\">üß† Multitasking Challenge</h3>\n        <p className=\"text-sm text-gray-700 mb-2\">\n          Fill out the form while handling interruptions! Random challenges will appear that you must solve quickly.\n        </p>\n        <div className=\"text-xs text-gray-600 space-y-1\">\n          <div>‚Ä¢ <strong>Math challenges:</strong> Solve in {PACE.perChallengeSecs}s</div>\n          <div>‚Ä¢ <strong>Stroop tests:</strong> Select the ink color, not the word</div>\n          <div>‚Ä¢ Challenges completed: <strong>{completedChallenges}/{PACE.maxChallenges}</strong></div>\n        </div>\n        <div className=\"mt-2 text-sm text-gray-600\">\n          Form Progress: <strong>{completionPercentage}% Complete</strong> ({filledFields}/{totalFields} fields)\n        </div>\n      </div>\n\n      {/* Challenge Modal */}\n      {currentChallenge && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-2xl p-6 max-w-md w-full mx-4\">\n            <div className=\"text-center mb-4\">\n              <div className={`text-4xl font-bold mb-2 ${\n                challengeTimer <= 3 ? 'text-red-600' : 'text-orange-600'\n              }`}>\n                {challengeTimer}s\n              </div>\n              <h3 className=\"text-lg font-semibold text-gray-800\">\n                ‚ö° Quick Challenge!\n              </h3>\n            </div>\n\n            {currentChallenge.type === 'math' ? (\n              <div>\n                <p className=\"text-center text-xl font-semibold text-gray-800 mb-4\">\n                  {currentChallenge.question}\n                </p>\n                <input\n                  type=\"text\"\n                  value={userAnswer}\n                  onChange={(e) => {\n                    setUserAnswer(e.target.value);\n                    if (answerError) setAnswerError(null);\n                  }}\n                  onKeyDown={(e) => {\n                    if (e.key === 'Enter') handleChallengeSubmit();\n                  }}\n                  className={`w-full p-3 border-2 rounded-lg text-center text-xl font-bold focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none ${\n                    answerError ? 'border-red-500' : 'border-indigo-300'\n                  }`}\n                  placeholder=\"Type answer\"\n                  autoFocus\n                />\n                {answerError && (\n                  <div className=\"mt-2 text-sm text-red-600 text-center\">{answerError}</div>\n                )}\n              </div>\n            ) : (\n              <div>\n                <p className=\"text-center text-sm text-gray-700 mb-3\">\n                  {currentChallenge.question}\n                </p>\n                <div\n                  className=\"text-center text-5xl font-bold mb-4 py-3\"\n                  style={{ color: currentChallenge.inkColor }}\n                >\n                  {currentChallenge.colorWord}\n                </div>\n                <div className={`grid grid-cols-2 gap-2 ${answerError ? 'ring-2 ring-red-400 rounded-lg p-1' : ''}`}>\n                  {currentChallenge.options?.map((option) => (\n                    <button\n                      key={option}\n                      onClick={() => handleOptionClick(option)}\n                      className=\"p-3 bg-indigo-100 hover:bg-indigo-200 rounded-lg font-semibold text-gray-800 transition-colors\"\n                    >\n                      {option}\n                    </button>\n                  ))}\n                </div>\n                {answerError && (\n                  <div className=\"mt-2 text-sm text-red-600 text-center\">{answerError}</div>\n                )}\n              </div>\n            )}\n\n            <button\n              onClick={handleChallengeSubmit}\n              className=\"w-full mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium\"\n            >\n              Submit & Continue\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Form */}\n      <DataCollectionForm\n        formData={formData}\n        onInputChange={handleInputChange}\n        onKeyDown={logKeyDown}\n        onKeyUp={logKeyUp}\n        onFieldFocus={handleFieldFocus}\n        onFieldBlur={handleFieldBlur}\n        disabled={isFormDisabled}\n        className={`max-h-[500px] overflow-y-auto pr-2 mb-6 transition-opacity ${\n          isFormDisabled ? 'opacity-50' : 'opacity-100'\n        }`}\n      />\n\n      {/* Action Buttons */}\n      <div className=\"flex gap-3\">\n        <button\n          onClick={onShowData}\n          className=\"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium\"\n        >\n          {showData ? 'Hide Data' : 'Show All Data'}\n        </button>\n        <button\n          onClick={handleClear}\n          className=\"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium\"\n        >\n          Clear Data\n        </button>\n      </div>\n\n      {/* Keystroke Data Display */}\n      {showData && (\n        <KeystrokeDataDisplay\n          events={getLogs()}\n          analytics={getAnalytics()}\n          onExportJSON={exportAsJSON}\n          onExportCSV={exportAsCSV}\n        />\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2380, "column": 0}, "map": {"version":3,"sources":["file:///Users/eyan/Desktop/keystroke_logger/frontend/src/components/KeystrokeLogger.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { TestType } from '../types/keystroke';\nimport { TestSelector } from './TestSelector';\nimport { TimedTest } from './tests/TimedTest';\nimport { Free } from './tests/Free';\nimport { LyingTest } from './tests/LyingTest';\nimport { MultitaskingTest } from './tests/MultitaskingTest';\n\nexport default function KeystrokeLogger() {\n  const [currentTest, setCurrentTest] = useState<TestType>('free');\n  const [showData, setShowData] = useState(false);\n\n  const handleTestChange = (test: TestType) => {\n    setCurrentTest(test);\n    setShowData(false);\n  };\n\n  const toggleShowData = () => {\n    setShowData(!showData);\n  };\n\n  const handleClearData = () => {\n    setShowData(false);\n  };\n\n  const renderTest = () => {\n    const commonProps = {\n      onShowData: toggleShowData,\n      onClearData: handleClearData,\n      showData,\n    };\n\n    switch (currentTest) {\n      case 'free':\n        return <Free {...commonProps} />;\n      case 'timed':\n        return <TimedTest {...commonProps} />;\n      case 'multitasking':\n        return <MultitaskingTest {...commonProps} />;\n      case 'lying':\n        return <LyingTest {...commonProps} />;\n      default:\n        return <Free {...commonProps} />;\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-8\">\n      <div className=\"max-w-3xl mx-auto\">\n        <div className=\"bg-white rounded-lg shadow-lg p-8\">\n          <h1 className=\"text-3xl font-bold text-gray-800 mb-2\">\n            Keystroke Dynamics Logger\n          </h1>\n          <p className=\"text-gray-600 mb-6\">\n            Choose a test type and capture keystroke dynamics data.\n          </p>\n\n          {/* THIS IS WHERE THE TEST SELECTOR APPEARS */}\n          <TestSelector currentTest={currentTest} onTestChange={handleTestChange} />\n\n          {/* THIS RENDERS THE SELECTED TEST */}\n          {renderTest()}\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;AAEe,SAAS;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,6NAAQ,EAAW;IACzD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,6NAAQ,EAAC;IAEzC,MAAM,mBAAmB,CAAC;QACxB,eAAe;QACf,YAAY;IACd;IAEA,MAAM,iBAAiB;QACrB,YAAY,CAAC;IACf;IAEA,MAAM,kBAAkB;QACtB,YAAY;IACd;IAEA,MAAM,aAAa;QACjB,MAAM,cAAc;YAClB,YAAY;YACZ,aAAa;YACb;QACF;QAEA,OAAQ;YACN,KAAK;gBACH,qBAAO,0PAAC,uJAAI;oBAAE,GAAG,WAAW;;;;;;YAC9B,KAAK;gBACH,qBAAO,0PAAC,iKAAS;oBAAE,GAAG,WAAW;;;;;;YACnC,KAAK;gBACH,qBAAO,0PAAC,+KAAgB;oBAAE,GAAG,WAAW;;;;;;YAC1C,KAAK;gBACH,qBAAO,0PAAC,iKAAS;oBAAE,GAAG,WAAW;;;;;;YACnC;gBACE,qBAAO,0PAAC,uJAAI;oBAAE,GAAG,WAAW;;;;;;QAChC;IACF;IAEA,qBACE,0PAAC;QAAI,WAAU;kBACb,cAAA,0PAAC;YAAI,WAAU;sBACb,cAAA,0PAAC;gBAAI,WAAU;;kCACb,0PAAC;wBAAG,WAAU;kCAAwC;;;;;;kCAGtD,0PAAC;wBAAE,WAAU;kCAAqB;;;;;;kCAKlC,0PAAC,8JAAY;wBAAC,aAAa;wBAAa,cAAc;;;;;;oBAGrD;;;;;;;;;;;;;;;;;AAKX","debugId":null}},
    {"offset": {"line": 2513, "column": 0}, "map": {"version":3,"sources":["file:///Users/eyan/Desktop/keystroke_logger/frontend/src/App.tsx"],"sourcesContent":["import React from 'react';\nimport KeystrokeLogger  from './components/KeystrokeLogger';\nimport './App.css';\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <KeystrokeLogger />\n    </div>\n  );\n}\n\nexport default App;"],"names":[],"mappings":";;;;;AACA;;;;AAIA,SAAS;IACP,qBACE,0PAAC;QAAI,WAAU;kBACb,cAAA,0PAAC,4JAAe;;;;;;;;;;AAGtB;uCAEe","debugId":null}},
    {"offset": {"line": 2541, "column": 0}, "map": {"version":3,"sources":["file:///Users/eyan/Desktop/keystroke_logger/frontend/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport App from '../App';\nimport { createBrowserClient } from '@supabase/ssr';\n\nexport default function Page() {\n  const [todos, setTodos] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const supabase = createBrowserClient(\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\n      process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    async function fetchTodos() {\n      const { data } = await supabase.from('todos').select();\n      setTodos(data || []);\n      setLoading(false);\n    }\n\n    fetchTodos();\n  }, []);\n\n  if (loading) return <div>Loading...</div>;\n\n  return (\n    <div>\n      <ul>\n        {todos?.map((todo) => (\n          <li key={todo.id}>{todo.name || JSON.stringify(todo)}</li>\n        ))}\n      </ul>\n      <App />\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,6NAAQ,EAAQ,EAAE;IAC5C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,6NAAQ,EAAC;IAEvC,IAAA,8NAAS,EAAC;QACR,MAAM,WAAW,IAAA,6MAAmB;QAKpC,eAAe;YACb,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,SAAS,MAAM;YACpD,SAAS,QAAQ,EAAE;YACnB,WAAW;QACb;QAEA;IACF,GAAG,EAAE;IAEL,IAAI,SAAS,qBAAO,0PAAC;kBAAI;;;;;;IAEzB,qBACE,0PAAC;;0BACC,0PAAC;0BACE,OAAO,IAAI,CAAC,qBACX,0PAAC;kCAAkB,KAAK,IAAI,IAAI,KAAK,SAAS,CAAC;uBAAtC,KAAK,EAAE;;;;;;;;;;0BAGpB,0PAAC,kIAAG;;;;;;;;;;;AAGV","debugId":null}}]
}